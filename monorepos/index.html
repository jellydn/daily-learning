<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Why we should consider monorepos</title>

		<meta name="description" content="A open discussion about how we could improve our structure">
		<meta name="author" content="Dung Huynh (kaka)">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/moon.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Monorepos</h1>
					<h3>How we could move toward the single codebase</h3>
					<p>
						<small>Created by <a href="https://productsway.com">Kaka</a> at <a href="https://zanroo.com">Zanroo</a></small>
					</p>
				</section>

				<section>
					<section>
						<h2>Hello There</h2>
						<p>
							How is your work going as frontend developer?
						</p>
						<p class="fragment">
							if that is OKAY &#x1F60D; <br />
							then skip this one &#x1F60E; <br />
							else let's see what's missing &#x2753; <br />
						</p>
					</section>
					<section>
						<h2>Have you ever meet these issues?</h2>
						<p class="fragment">
							Our product has <span class="fragment">3 date pickers UI &#x1F644; </span>
						</p>
						<p class="fragment">
							We also have <span class="fragment"><a href="#/1/2">charts</a> components</span> <span class="fragment">and</span><span class="fragment"> are different &#x1F602;</span>
						</p>
						<p class="fragment">
							The functional looks like <a href="#/1/4">the same UI</a> but quite different &#x1F440;
						</p>
						<p class="fragment">
							Copy all style(.SCSS) files and images to your project &#x1F631;
							<br />
							And how we apply the fix from project back to arun-css
						</p>
					</section>
					<section>
						<h2>Chart - Heat Map components <a href="#/1/1">&#x1F199;</a></h2>
						<table>
							<tr>
								<td>
									<img class="fragment" data-src="./heatmap-1.png" >
								</td>
								<td>
									<img class="fragment" data-src="./heatmap-2.png" >
								</td>
							</tr>
						</table>
					</section>
					<section>
						<h2>Chart - Trend components <a href="#/1/1">&#x1F199;</a></h2>
						<table>
							<tr>
								<td>
									<img class="fragment" data-src="./trend-graph-1.png" >
								</td>
								<td>
									<img class="fragment" data-src="./trend-graph-2.png" >
								</td>
							</tr>
						</table>
					</section>
					<section>
						<h2>Filter UI components <a href="#/1/1">&#x1F199;</a></h2>
						<table>
							<tr>
								<td>
									<img class="fragment" data-src="./filter-setting-1.png" >
								</td>
								<td>
									<img class="fragment" data-src="./filter-setting-2.png" >
								</td>
							</tr>
						</table>
					</section>
				</section>

				<section>
					<h2>What is the root cause &#x2753;&#x2753;&#x2753;</h2>
					<p class="fragment">
						Lack of share <span class="fragment highlight-blue">codebase</span>
					</p>
					<p class="fragment">
						Missing <span class="fragment highlight-blue">code review</span>
					</p>
					<p class="fragment">
						Less <span class="fragment highlight-blue">communicate with</span> <span class="fragment highlight-red">other teams</span>
					</p>
				</section>

				<section>
					<h2>How we could improve &#x2753;</h2>
					<p class="fragment">
						Communicate more and often
					</p>
					<p class="fragment">
						Ask for help
					</p>
					<p class="fragment">
						Write more share components
					</p>
				</section>

				<section>
					<section>
						<h2>Do you want to continue &#x2753;</h2>
					</section>
					<section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
						<h2>Yes, ... and so now!</h2>
					</section>
				</section>

				<section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
					<h2>Introduce monorepos</h2>
					<p class="fragment">Mono repository vs Multiple Repositories</p>
					<pre class="fragment"><code class="hljs" style="word-wrap: break-word;">Simplified organization, dependencies</code></pre>
					<pre class="fragment"><code class="hljs" style="word-wrap: break-word;">Enforce coding style</code></pre>
					<pre class="fragment"><code class="hljs" style="word-wrap: break-word;">Easy sharing code</code></pre>
				</section>
				<section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
					<section>
						<h2>What If I want to use monorepos</h2>
						<p>
						&#x1F47D;&#x1F47D;&#x1F47D;&#x1F47D;&#x1F47D;&#x1F47D;
						</p>
					</section>
					<section>
						<h2>Install tools</h2>
						<pre><code class="hljs" style="word-wrap: break-word;">npm install --global lerna lerna-wizard</code></pre>
						<p>
							Should upgrade yarn latest version (v1.5.1) because they has new concept `workspaces`
						</p>
					</section>
					<section>
						<h2>Project structure - Option #1</h2>
						<img data-src="./option-1.png" />
					</section>
					<section>
						<h2>Project structure - Option #2</h2>
						<img data-src="./option-2.png" />
					</section>
					<section>
							<h2>How lerna and yarn works</h2>
							<pre><code class="hljs" style="word-wrap: break-word;">lerna init</code></pre>
							<pre><code class="hljs" data-trim contenteditable>
								{
									"lerna": "2.8.0",
									"commands": {
										"publish": {
										"ignore": ["*.md"]
										}
									},
									"version": "independent",
									"packages": ["packages/*", "websites/*"],
									"npmClient": "yarn",
									"useWorkspaces": true,
									"changelog": {
										"repo": "zanroo/arun-client",
										"labels": {
										"tag: new feature": ":rocket: New Feature",
										"tag: breaking change": ":boom: Breaking Change",
										"tag: bug fix": ":bug: Bug Fix",
										"tag: enhancement": ":nail_care: Enhancement",
										"tag: documentation": ":memo: Documentation",
										"tag: internal": ":house: Internal"
										},
										"cacheDir": ".changelog"
									}
								}
							</code></pre>
						</section>
					<section>
						<h2>Usage</h2>
						<p>Bootstrap project</p>
						<pre><code class="hljs" style="word-wrap: break-word;">lerna bootstrap</code></pre>
						<p>Clean node module</p>
						<pre><code class="hljs" style="word-wrap: break-word;">lerna clean</code></pre>
						<p>Add new package from npmjs</p>
						<pre><code class="hljs" style="word-wrap: break-word;">yarn add react@beta</code></pre>
						<p>Add local(your own) package from monorepos</p>
						<pre><code class="hljs" style="word-wrap: break-word;">lerna add @zanroo/arun-ui-components --scrope='central-client'</code></pre>
						<p>Publish a package to npmjs</p>
						<pre><code class="hljs" style="word-wrap: break-word;">lerna publish --scope='@zanroo/arun-ui-components'</code></pre>
					</section>
				</section>
				<section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
					<h2>Don't talk, let's action</h2>
					<p>
							&#x1F94A; LIVE  DEMO &#x1F94A;
					</p>
					<pre><code class="hljs" data-trim contenteditable>
							const notSleepy = false
							while (!notSleepy){
								console.warn('Keep calm and continue &#x1F60D;')
							}
					</code></pre>
				</section>

				<section>
					<section>
						<h2>Let's recap</h2>
						<ul>
							<li>Easy to review/share codebase &#x2705;</li>
							<li>Quickly to test and fix bug &#x2705;</li>
						</ul>
						<h3 class="fragment">Anything else?</h3>
						<ul class="fragment">
							<li>Development&#x2753;</li>
							<li>Deployment(CI/CD)&#x2753;</li>
							<li>Git logs&#x2753;</li>
						</ul>
					</section>
					<section data-background-transition="zoom"  data-background="https://danielkummer.github.io/git-flow-cheatsheet/img/git-flow-commands.png">
						<h2>Git Flow</h2>
						<aside class="notes">
							Use concepts: git-flow. Try to use label, tags on github.com
						</aside>
					</section>
					<section>
						<h2>CI/CD &#x1F681;</h2>
						<img data-src="https://cdn-images-1.medium.com/max/1600/1*h9rfnCrOUrxV2rOCQDwVvA.jpeg" >
						<aside class="notes">
							Ask DevOps about this issue
						</aside>
					</section>
					<section>
						<h2>Lerna Changelog</h2>
						<pre><code class="hljs" data-trim contenteditable>
								{
									"changelog": {
										"repo": "zanroo/arun-client",
										"labels": {
										"tag: new feature": ":rocket: New Feature",
										"tag: breaking change": ":boom: Breaking Change",
										"tag: bug fix": ":bug: Bug Fix",
										"tag: enhancement": ":nail_care: Enhancement",
										"tag: documentation": ":memo: Documentation",
										"tag: internal": ":house: Internal"
										},
										"cacheDir": ".changelog"
									}
								}
							</code></pre>
					</section>
				</section>

				<section>
					<h1>Q/A</h1>
				</section>
				<section style="text-align: left;">
					<h2>THANK YOU FOR YOUR TIME</h2>
					<p>
						<a href="https://github.com/zanroo/arun-client">Please try to use arun-client monorepos</a> <br>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>
	<script id="__bs_script__">//<![CDATA[
		document.write("<script async src='http://HOST:3000/browser-sync/browser-sync-client.js?v=2.23.6'><\/script>".replace("HOST", location.hostname));
	//]]></script>
	</body>
</html>
